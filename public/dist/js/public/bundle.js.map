{"version":3,"sources":["app.js","controllers/category.table.controller.js","controllers/home.controller.js","controllers/menu.controller.js","controllers/start.controller.js","controllers/summary.controller.js","directives/summary.table.directive.js","directives/upload.directive.js","services/auth.service.js","services/results.service.js","services/upload.service.js","services/zygousity.service.js","assets/angular-dropdowns.js"],"names":["angular","module","config","$inject","$stateProvider","$urlRouterProvider","state","url","controller","templateUrl","resolve","user","AuthService","$state","getUser","then","response","currentUser","userId","userid","userName","username","isAuthed","catch","error","go","otherwise","categoryTableController","colorResult","resultObj","color","resulttype","resultbool","resultqual","HomeController","$scope","console","log","$","window","on","winScroll","scrollTop","css","MenuController","loggedIn","res","err","scroll","sticky","addClass","removeClass","StartController","UploadService","uploadGenomeTXT","TXT","genomeName","showUpload","sendGenomeTXT","SummaryController","ResultsService","ZygousityService","$filter","ddSelectSelected","display","$watch","getGenomeResults","getResultsByUserId","cleansedResponse","map","elem","index","array","cleansedGenome","genomeresults","handleZygousity","resultsArray","userGenomeArray","transformData","ddSelectOptions","genomename","Date","genomedate","directive","summaryCategoryTable","restrict","scope","data","bindToController","controllerAs","onReadFile","$parse","link","element","attrs","fn","onChangeEvent","reader","FileReader","onload","onLoadEvent","$apply","$fileContent","target","result","readAsText","srcElement","files","service","$http","method","Error","$q","uploadTXT","deferred","defer","file","reject","promise","categoryArray","cleansedArray","i","length","j","resultname","splice","dd","run","$templateCache","put","join","DropdownService","replace","dropdownSelect","dropdownModel","dropdownItemLabel","dropdownOnchange","dropdownDisabled","$element","labelField","register","select","selected","equals","blur","bind","event","stopPropagation","toggleActive","$on","unregister","require","dropdownSelectItem","dropdownSelectCtrl","selectItem","href","$compile","dropdownMenu","$template","get","tpl","$wrap","replaceWith","append","dropdownMenuItem","dropdownMenuCtrl","factory","$document","body","find","_dropdowns","forEach","el","ddEl","push","indexOf","toggleClass","clearActive","isActive","hasClass"],"mappings":"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","file":"../bundle.js","sourcesContent":["(function() {\n\n  'use strict';\n\n  angular\n    .module('app', ['ui.router', 'ngDropdowns'])\n    .config(config);\n\n  config.$inject = ['$stateProvider', '$urlRouterProvider'];\n\n  function config($stateProvider, $urlRouterProvider) {\n\n    $stateProvider\n      .state('home', {\n        url: '/home',\n        controller: 'HomeController',\n        templateUrl: './../views/home.html',\n        resolve: {\n          user: (AuthService, $state) => {\n\n            return AuthService.getUser()\n              .then((response) => {\n                let currentUser = {\n                  userId: response.userid,\n                  userName: response.username,\n                  isAuthed: true\n                }\n                return currentUser\n              })\n              .catch((error) => {\n                let currentUser = {\n                  isAuthed: false\n                }\n                return currentUser\n              });\n          }\n        }\n      })\n      .state('start', {\n        url: '/start',\n        controller: 'StartController',\n        templateUrl: './../views/start.html',\n        resolve: {\n          user: (AuthService, $state) => {\n\n            return AuthService.getUser()\n              .then((response) => {\n                let currentUser = {\n                  userId: response.userid,\n                  userName: response.username,\n                  isAuthed: true\n                }\n                return currentUser\n              })\n              .catch((error) => {\n                let currentUser = {\n                  isAuthed: false\n                }\n                $state.go('home')\n                return currentUser\n              });\n          }\n        }\n      })\n      .state('summary', {\n        url: '/summary',\n        controller: 'SummaryController',\n        templateUrl: './../views/summary.html',\n        resolve: {\n          user: (AuthService, $state) => {\n\n            return AuthService.getUser()\n              .then((response) => {\n                let currentUser = {\n                  userId: response.userid,\n                  userName: response.username,\n                  isAuthed: true\n                }\n                return currentUser\n              })\n              .catch((error) => {\n                let currentUser = {\n                  isAuthed: false\n                }\n                $state.go('home')\n                return currentUser\n              });\n          }\n        }\n      })\n      .state('all-results', {\n        url: '/summary/all-results',\n        controller: 'SummaryController',\n        templateUrl: './../views/all-results.html',\n        resolve: {\n          user: (AuthService, $state) => {\n\n            return AuthService.getUser()\n              .then((response) => {\n                let currentUser = {\n                  userId: response.userid,\n                  userName: response.username,\n                  isAuthed: true\n                }\n                return currentUser\n              })\n              .catch((error) => {\n                let currentUser = {\n                  isAuthed: false\n                }\n                $state.go('home')\n                return currentUser\n              });\n          }\n        }\n      });\n\n    $urlRouterProvider.otherwise('/home');\n  }\n\n})();","(function() {\n\n  angular\n    .module('app')\n    .controller('categoryTableController', categoryTableController)\n\n  function categoryTableController() {\n\n    this.colorResult = (resultObj) => {\n      let color = \"\";\n\n      if (resultObj.resulttype == \"Inherited Conditions\"\n        && resultObj.resultbool == false) {\n        color= \"green\";\n      } else if (resultObj.resultqual == \"positive\" \n        && resultObj.resultbool == true) {\n        color = \"green\";\n      } else if (resultObj.resultqual == \"positive\" \n        && resultObj.resultbool == false) {\n        color = \"yellow\";\n      } else if (resultObj.resultqual == \"negative\" \n        && resultObj.resultbool == false) {\n        color = \"yellow\";\n      } else if (resultObj.resultqual == \"negative\" \n        && resultObj.resultbool == true) {\n        color = \"red\";\n      } else {\n        color = \"black\"\n      }\n    \n      \n    return color;\n    }\n\n  };\n})();","(function() {\n  angular\n    .module('app')\n    .controller('HomeController', HomeController)\n\n  function HomeController($scope, user) {\n\n    // Auth\n    console.log(\"user object returned\", user)\n    $scope.userName = user.userName;\n    $scope.isAuthed = user.isAuthed;\n\n    // Parallax scroll effects\n    $(window).on('scroll', function() {\n      var winScroll = $(this).scrollTop();\n\n      $('.helix').css({\n        'transform': 'translateY(-' + winScroll / 15 + '%)'\n      });\n      $('.helix-marks').css({\n        'transform': 'translate(-' + winScroll / 7 + '%, -' + winScroll / 15 + '%)'\n      });\n      $('.circles-side').css({\n        'transform': 'translateY(-' + winScroll / 15 + '%)'\n      });\n      $('.guanine').css({\n        'transform': 'translateX(-' + winScroll / 15 + '%)'\n      });\n      $('.cytosine').css({\n        'transform': 'translateX(+' + winScroll / 12 + '%)'\n      });\n    });\n\n  } // END OF CTRL FUNC\n})(); // END OF IIFE","(function() {\n\n  angular\n    .module('app')\n    .controller('MenuController', MenuController)\n\n  function MenuController($scope, $state, AuthService) {\n\n    // Set initial display variables\n    $scope.loggedIn = ($scope.loggedIn === true) ? true : false;\n\n    function getUser() {\n\n      AuthService.getUser()\n        .then((res) => {\n            $scope.userName = res.username;\n            $scope.isAuthed = true;\n          })\n          .catch((err) => {\n            $scope.isAuthed = false;\n          });\n    }\n\n    getUser();\n\n    $(window).scroll(function() {\n      var sticky = $('.sticky'),\n        scroll = $(window).scrollTop();\n      if (scroll >= 100) sticky.addClass('fixed');\n      else sticky.removeClass('fixed');\n    });\n\n  } // END OF CTRL FUNC\n})(); // END OF IIFE","(function() {\n\n  angular\n    .module('app')\n    .controller('StartController', StartController)\n\n  function StartController($scope, $state, UploadService, user) {\n\n    $scope.username = user.userName;\n\n    $scope.uploadGenomeTXT = function(TXT, genomeName) {\n        if (TXT && $scope.genomeName) {\n          $scope.showUpload = true;\n          UploadService.sendGenomeTXT(TXT, genomeName)\n            .then((response) => {\n              console.log(response);\n              $state.go('summary');\n            }, (err) => console.log(err))\n        }\n      }\n    \n  } // END OF CONTROLLER FUNCTION\n})(); // END OF IIFE","(function() {\n  angular\n    .module('app')\n    .controller('SummaryController', SummaryController)\n\n  function SummaryController($scope, $state, user, ResultsService, ZygousityService, $filter) {\n\n    $scope.userName = user.userName;\n    $scope.userId = user.userId;\n    $scope.ddSelectSelected = {\n      display: 'No Genomes Uploaded'\n    }\n\n    $scope.$watch('ddSelectSelected', (ddSelectSelected) => {\n      console.log(\"SELECTED GENOME\", ddSelectSelected)\n    })\n\n    let getGenomeResults = (userId) => {\n      return ResultsService.getResultsByUserId(userId)\n        .then((response) => {\n          return response\n        })\n        .catch((err) => console.log(err))\n    };\n\n    getGenomeResults($scope.userId)\n      .then((response) => {\n        let cleansedResponse = response.map((elem, index, array) => {\n          let cleansedGenome = elem;\n          cleansedGenome.genomeresults.map((elem, index, array) => {\n            return ZygousityService.handleZygousity(elem.resultsArray);\n          })\n          return cleansedGenome;\n        })\n        return cleansedResponse;\n      })\n      .then((response) => {\n        $scope.userGenomeArray = transformData(response);\n        $scope.ddSelectOptions = $scope.userGenomeArray;\n        $scope.ddSelectSelected = $scope.userGenomeArray[0];\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n\n    function transformData(response) {\n      if (response) {\n        return response.map(elem => {\n          elem.display = 'GENOME:\\xa0\\xa0\\xa0' + elem.genomename + \"\\xa0\\xa0\\xa0\" + $filter('date')(new Date(elem.genomedate), 'short');\n          return elem;\n\n        })\n      }\n    }\n\n  }; // END OF CTRL FUNC\n})(); // END OF IIFE","(function() {\n\n  angular\n    .module('app')\n    .directive('summaryCategoryTable', summaryCategoryTable)\n\n  function summaryCategoryTable() {\n\n    return {\n      restrict: 'E',\n      templateUrl: 'js/directives/templates/summary-category-table.html',\n      scope: {\n        data: '='\n      },\n      bindToController: true,\n      controller: 'categoryTableController',\n      controllerAs: 'ctrl'\n    }\n\n  };\n})();","(function() {\n  'use strict';\n\n  angular\n    .module('app')\n    .directive('onReadFile', onReadFile);\n\n\n  function onReadFile($parse) {\n\n    return {\n      restrict: 'A',\n      scope: false,\n      link: function(scope, element, attrs) {\n        var fn = $parse(attrs.onReadFile);\n        element.on('change', function(onChangeEvent) {\n          var reader = new FileReader();\n          reader.onload = function(onLoadEvent) {\n            scope.$apply(function() {\n              fn(scope, {\n                $fileContent: onLoadEvent.target.result\n              });\n            });\n          };\n          reader.readAsText((onChangeEvent.srcElement || onChangeEvent.target).files[0]);\n        });\n      }\n    };\n\n  };\n})();","(function() {\n  angular\n    .module('app')\n    .service('AuthService', AuthService)\n\n  function AuthService($http) {\n\n  this.getUser = () => {\n      return $http({\n          method: 'GET',\n          url: '/api/auth/user'\n        })\n        .then((response) => {\n          return response.data[0];\n        })\n        .catch((err) => {\n          throw new Error(err);\n        })\n    };\n\n  }\n\n})();","(function() {\n  angular\n    .module('app')\n    .service('ResultsService', ResultsService)\n\n  function ResultsService($http) {\n\n    this.getResultsByUserId = (userId) => {\n      //console.log(\"service userId\", userId)\n      return $http({\n        method: 'GET',\n        url: `/api/results/${userId}`,\n      })\n      .then((response) => {\n        //console.log('valid response from $http', response)\n        return response.data;\n      })\n      .catch((err) => {\n        console.log(err);\n        throw new Error(err);\n      })\n    };\n\n  }; // END OF SVC FUNC\n})(); // END OF IIFE","(function() {\n  angular\n    .module('app')\n    .service('UploadService', UploadService)\n\n  function UploadService($http, $q) {\n\n    this.sendGenomeTXT = (uploadTXT, genomeName) => {\n      var deferred = $q.defer();    \n      $http({    \n            method: 'POST',\n            url: '/api/upload',\n            data: {\n                    file: uploadTXT,\n                    genomeName: genomeName\n                  }\n      }).then(function(res) {      \n        deferred.resolve(res.data);    \n      }).catch(function(res) {      \n        deferred.reject(res);    \n      });    \n      return deferred.promise;\n    }\n\n  } //END OF SVC FUNC\n\n})(); //END OF IIFE","(function() {\n\n  angular\n    .module('app')\n    .service('ZygousityService', ZygousityService);\n\n  function ZygousityService() {\n\n    this.handleZygousity = (categoryArray) => {\n      let cleansedArray = categoryArray;\n\n      for (let i = cleansedArray.length - 1; i >= 0; i--) {\n        if (cleansedArray[i].resultbool === false) {\n          for (let j = cleansedArray.length - 1; j >= 0; j--) {\n            if (cleansedArray[j].resultname == cleansedArray[i].resultname && cleansedArray[j].resultbool === true) {\n              cleansedArray.splice(i, 1);\n              break;\n            } \n          }\n        }\n      }\n\n      return cleansedArray;\n    }\n\n  };\n})();\n\n","/**\n * @license MIT http://jseppi.mit-license.org/license.html\n */\n(function (window, angular) {\n  'use strict';\n\n  var dd = angular.module('ngDropdowns', []);\n\n  dd.run(['$templateCache', function ($templateCache) {\n    $templateCache.put('ngDropdowns/templates/dropdownSelect.html', [\n      '<div ng-class=\"{\\'disabled\\': dropdownDisabled}\" class=\"wrap-dd-select\" tabindex=\"0\">',\n      '<span class=\"selected\">{{dropdownModel[labelField]}}</span>',\n      '<ul class=\"dropdown\">',\n      '<li ng-repeat=\"item in dropdownSelect\"',\n      ' class=\"dropdown-item\"',\n      ' dropdown-select-item=\"item\"',\n      ' dropdown-item-label=\"labelField\">',\n      '</li>',\n      '</ul>',\n      '</div>'\n    ].join(''));\n\n    $templateCache.put('ngDropdowns/templates/dropdownSelectItem.html', [\n      '<li ng-class=\"{divider: (dropdownSelectItem.divider && !dropdownSelectItem[dropdownItemLabel]), \\'divider-label\\': (dropdownSelectItem.divider && dropdownSelectItem[dropdownItemLabel])}\">',\n      '<a href=\"\" class=\"dropdown-item\"',\n      ' ng-if=\"!dropdownSelectItem.divider\"',\n      ' ng-href=\"{{dropdownSelectItem.href}}\"',\n      ' ng-click=\"selectItem()\">',\n      '{{dropdownSelectItem[dropdownItemLabel]}}',\n      '</a>',\n      '<span ng-if=\"dropdownSelectItem.divider\">',\n      '{{dropdownSelectItem[dropdownItemLabel]}}',\n      '</span>',\n      '</li>'\n    ].join(''));\n\n    $templateCache.put('ngDropdowns/templates/dropdownMenu.html', [\n      '<ul class=\"dropdown\">',\n      '<li ng-repeat=\"item in dropdownMenu\"',\n      ' class=\"dropdown-item\"',\n      ' dropdown-item-label=\"labelField\"',\n      ' dropdown-menu-item=\"item\">',\n      '</li>',\n      '</ul>'\n    ].join(''));\n\n    $templateCache.put('ngDropdowns/templates/dropdownMenuItem.html', [\n      '<li ng-class=\"{divider: dropdownMenuItem.divider, \\'divider-label\\': dropdownMenuItem.divider && dropdownMenuItem[dropdownItemLabel]}\">',\n      '<a href=\"\" class=\"dropdown-item\"',\n      ' ng-if=\"!dropdownMenuItem.divider\"',\n      ' ng-href=\"{{dropdownMenuItem.href}}\"',\n      ' ng-click=\"selectItem()\">',\n      '{{dropdownMenuItem[dropdownItemLabel]}}',\n      '</a>',\n      '<span ng-if=\"dropdownMenuItem.divider\">',\n      '{{dropdownMenuItem[dropdownItemLabel]}}',\n      '</span>',\n      '</li>'\n    ].join(''));\n\n    $templateCache.put('ngDropdowns/templates/dropdownMenuWrap.html',\n      '<div class=\"wrap-dd-menu\" ng-class=\"{\\'disabled\\': dropdownDisabled}\"></div>'\n    );\n  }]);\n\n  dd.directive('dropdownSelect', ['DropdownService',\n    function (DropdownService) {\n      return {\n        restrict: 'A',\n        replace: true,\n        scope: {\n          dropdownSelect: '=',\n          dropdownModel: '=',\n          dropdownItemLabel: '@',\n          dropdownOnchange: '&',\n          dropdownDisabled: '='\n        },\n\n        controller: ['$scope', '$element', function ($scope, $element) {\n          $scope.labelField = $scope.dropdownItemLabel || 'text';\n\n          DropdownService.register($element);\n\n          this.select = function (selected) {\n            if (!angular.equals(selected, $scope.dropdownModel)) {\n                $scope.dropdownModel = selected;\n            }\n            $scope.dropdownOnchange({\n              selected: selected\n            });\n            $element[0].blur(); //trigger blur to clear active\n          };\n\n          $element.bind('click', function (event) {\n            event.stopPropagation();\n            if (!$scope.dropdownDisabled) {\n              DropdownService.toggleActive($element);\n            }\n          });\n\n          $scope.$on('$destroy', function () {\n            DropdownService.unregister($element);\n          });\n        }],\n        templateUrl: 'ngDropdowns/templates/dropdownSelect.html'\n      };\n    }\n  ]);\n\n  dd.directive('dropdownSelectItem', [\n    function () {\n      return {\n        require: '^dropdownSelect',\n        replace: true,\n        scope: {\n          dropdownItemLabel: '=',\n          dropdownSelectItem: '='\n        },\n\n        link: function (scope, element, attrs, dropdownSelectCtrl) {\n          scope.selectItem = function () {\n            if (scope.dropdownSelectItem.href) {\n              return;\n            }\n            dropdownSelectCtrl.select(scope.dropdownSelectItem);\n          };\n        },\n\n        templateUrl: 'ngDropdowns/templates/dropdownSelectItem.html'\n      };\n    }\n  ]);\n\n  dd.directive('dropdownMenu', ['$parse', '$compile', 'DropdownService', '$templateCache',\n    function ($parse, $compile, DropdownService, $templateCache) {\n      return {\n        restrict: 'A',\n        replace: false,\n        scope: {\n          dropdownMenu: '=',\n          dropdownModel: '=',\n          dropdownItemLabel: '@',\n          dropdownOnchange: '&',\n          dropdownDisabled: '='\n        },\n\n        controller: ['$scope', '$element', function ($scope, $element) {\n          $scope.labelField = $scope.dropdownItemLabel || 'text';\n\n          var $template = angular.element($templateCache.get('ngDropdowns/templates/dropdownMenu.html'));\n          // Attach this controller to the element's data\n          $template.data('$dropdownMenuController', this);\n\n          var tpl = $compile($template)($scope);\n          var $wrap = $compile(\n            angular.element($templateCache.get('ngDropdowns/templates/dropdownMenuWrap.html'))\n          )($scope);\n\n          $element.replaceWith($wrap);\n          $wrap.append($element);\n          $wrap.append($template);\n\n          DropdownService.register(tpl);\n\n          this.select = function (selected) {\n            if (!angular.equals(selected, $scope.dropdownModel)) {\n                $scope.dropdownModel = selected;\n            }\n            $scope.dropdownOnchange({\n              selected: selected\n            });\n          };\n\n          $element.bind('click', function (event) {\n            event.stopPropagation();\n            if (!$scope.dropdownDisabled) {\n              DropdownService.toggleActive(tpl);\n            }\n          });\n\n          $scope.$on('$destroy', function () {\n            DropdownService.unregister(tpl);\n          });\n        }]\n      };\n    }\n  ]);\n\n  dd.directive('dropdownMenuItem', [\n    function () {\n      return {\n        require: '^dropdownMenu',\n        replace: true,\n        scope: {\n          dropdownMenuItem: '=',\n          dropdownItemLabel: '='\n        },\n\n        link: function (scope, element, attrs, dropdownMenuCtrl) {\n          scope.selectItem = function () {\n            if (scope.dropdownMenuItem.href) {\n              return;\n            }\n            dropdownMenuCtrl.select(scope.dropdownMenuItem);\n          };\n        },\n\n        templateUrl: 'ngDropdowns/templates/dropdownMenuItem.html'\n      };\n    }\n  ]);\n\n  dd.factory('DropdownService', ['$document',\n    function ($document) {\n      var body = $document.find('body'),\n        service = {},\n        _dropdowns = [];\n\n      body.bind('click', function () {\n        angular.forEach(_dropdowns, function (el) {\n          el.removeClass('active');\n        });\n      });\n\n      service.register = function (ddEl) {\n        _dropdowns.push(ddEl);\n      };\n\n      service.unregister = function (ddEl) {\n        var index;\n        index = _dropdowns.indexOf(ddEl);\n        if (index > -1) {\n          _dropdowns.splice(index, 1);\n        }\n      };\n\n      service.toggleActive = function (ddEl) {\n        angular.forEach(_dropdowns, function (el) {\n          if (el !== ddEl) {\n            el.removeClass('active');\n          }\n        });\n\n        ddEl.toggleClass('active');\n      };\n\n      service.clearActive = function () {\n        angular.forEach(_dropdowns, function (el) {\n          el.removeClass('active');\n        });\n      };\n\n      service.isActive = function (ddEl) {\n        return ddEl.hasClass('active');\n      };\n\n      return service;\n    }\n  ]);\n})(window, window.angular);\n"]}