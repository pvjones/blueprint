{"version":3,"sources":["app.js","assets/angular-dropdowns.js","services/auth.service.js","services/chart.resize.service.js","services/detail.service.js","services/filter.service.js","services/results.service.js","services/upload.service.js","services/zygousity.service.js","controllers/category.table.controller.js","controllers/detail.controller.js","controllers/genomeChart.controller.js","controllers/home.controller.js","controllers/menu.controller.js","controllers/newUser.controller.js","controllers/start.controller.js","controllers/summary.controller.js","directives/genomeChart.directive.js","directives/genomeMiniChart.directive.js","directives/summary.table.directive.js","directives/upload.directive.js"],"names":["angular","module","config","$inject","$stateProvider","$urlRouterProvider","state","url","controller","templateUrl","resolve","user","AuthService","$state","getUser","then","response","currentUser","userId","userid","userName","username","isAuthed","catch","error","console","log","go","otherwise","window","dd","run","$templateCache","put","join","directive","DropdownService","restrict","replace","scope","dropdownSelect","dropdownModel","dropdownItemLabel","dropdownOnchange","dropdownDisabled","$scope","$element","labelField","register","select","selected","equals","blur","bind","event","stopPropagation","toggleActive","$on","unregister","require","dropdownSelectItem","link","element","attrs","dropdownSelectCtrl","selectItem","href","$parse","$compile","dropdownMenu","$template","get","data","tpl","$wrap","replaceWith","append","dropdownMenuItem","dropdownMenuCtrl","factory","$document","body","find","service","_dropdowns","forEach","el","removeClass","ddEl","push","index","indexOf","splice","toggleClass","clearActive","isActive","hasClass","$http","method","err","Error","ChartResizeService","calculateElementWidth","offsetWidth","style","getComputedStyle","width","DetailService","getDetail","descriptionId","detailobject","FilterService","filter","searchTerm","setFilter","filterName","length","resultname","resultbool","resultqual","ResultsService","getResultsByUserId","UploadService","$q","sendGenomeTXT","uploadTXT","genomeName","deferred","defer","file","res","reject","promise","ZygousityService","handleZygousity","categoryArray","cleansedArray","i","j","categoryTableController","colorResult","resultObj","color","resulttype","detailController","$stateParams","detail","genomeChartController","filterService","HomeController","d3","on","winScroll","scrollY","MenuController","loggedIn","onscroll","sticky","scroll","classed","newUserController","StartController","showModal","showProcessing","showError","uploadGenomeTXT","TXT","resetModal","SummaryController","$filter","ddSelectSelected","display","$watch","getGenomeResults","cleansedResponse","map","elem","array","cleansedGenome","genomeresults","resultsArray","userGenomeArray","transformData","ddSelectOptions","genomename","Date","genomedate","healthAlertSet","triggerFilter","genomeChart","chartElement","onresize","updateChart","n","o","margins","top","left","right","bottom","height","dataset","id","datasetMod1","e","y","x","stack","layout","datasetMod2","group","d","x0","y0","tip","attr","html","rsid","chromosome","position","snpVals","getSnpVals","selectAll","remove","svg","xMax","max","xScale","scale","linear","domain","range","colors","interpolate","interpolateHcl","rgb","series","text","enter","rects","textHandler","series2","rects2","totalPosition","call","show","hide","xAxis","axis","orient","ticks","overlap","snpArray","snp","calculateSnpPosition","snpObj","move","each","that","a","getBoundingClientRect","b","Math","abs","dx","min","dy","tt","transform","to","translate","genomeMiniChart","SNPs","identity","summaryCategoryTable","bindToController","controllerAs","onReadFile","fn","onChangeEvent","reader","FileReader","onload","onLoadEvent","$apply","$fileContent","target","result","readAsText","srcElement","files"],"mappings":"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","file":"../bundle.js","sourcesContent":["(function() {\n\n  'use strict';\n\n  angular\n    .module('app', ['ui.router', 'ngDropdowns'])\n    .config(config);\n\n  config.$inject = ['$stateProvider', '$urlRouterProvider'];\n\n  function config($stateProvider, $urlRouterProvider) {\n\n    $stateProvider\n      .state('home', {\n        url: '/home',\n        controller: 'HomeController',\n        templateUrl: './../views/home.html',\n        resolve: {\n          user: (AuthService, $state) => {\n\n            return AuthService.getUser()\n              .then((response) => {\n                let currentUser = {\n                  userId: response.userid,\n                  userName: response.username,\n                  isAuthed: true\n                }\n                return currentUser\n              })\n              .catch((error) => {\n                let currentUser = {\n                  isAuthed: false\n                }\n                return currentUser\n              });\n          }\n        }\n      })\n      .state('newuser', {\n        url: '/newuser',\n        controller: 'newUserController',\n        templateUrl: './../views/newuser.html',\n        resolve: {\n          user: (AuthService, $state) => {\n\n            return AuthService.getUser()\n              .then((response) => {\n                let currentUser = {\n                  userId: response.userid,\n                  userName: response.username,\n                  isAuthed: true\n                }\n                return currentUser\n              })\n              .catch((error) => {\n                let currentUser = {\n                  isAuthed: false\n                }\n                console.log(\"start resolve user\", currentUser)\n                $state.go('home')\n                return currentUser\n              });\n          }\n        }\n      })\n      .state('start', {\n        url: '/start',\n        controller: 'StartController',\n        templateUrl: './../views/start.html',\n        resolve: {\n          user: (AuthService, $state) => {\n\n            return AuthService.getUser()\n              .then((response) => {\n                console.log('getUser response', response)\n                let currentUser = {\n                  userId: response.userid,\n                  userName: response.username,\n                  isAuthed: true\n                }\n                return currentUser\n                console.log('currentUser', currentUser)\n              })\n              .catch((error) => {\n                let currentUser = {\n                  isAuthed: false\n                }\n                $state.go('home')\n                return currentUser\n              });\n          }\n        }\n      })\n      .state('summary', {\n        url: '/summary',\n        controller: 'SummaryController',\n        templateUrl: './../views/summary.html',\n        resolve: {\n          user: (AuthService, $state) => {\n\n            return AuthService.getUser()\n              .then((response) => {\n                let currentUser = {\n                  userId: response.userid,\n                  userName: response.username,\n                  isAuthed: true\n                }\n                return currentUser\n              })\n              .catch((error) => {\n                let currentUser = {\n                  isAuthed: false\n                }\n                $state.go('home')\n                return currentUser\n              });\n          }\n        }\n      })\n      .state('all-results', {\n        url: '/summary/all-results',\n        controller: 'SummaryController',\n        templateUrl: './../views/all-results.html',\n        resolve: {\n          user: (AuthService, $state) => {\n\n            return AuthService.getUser()\n              .then((response) => {\n                let currentUser = {\n                  userId: response.userid,\n                  userName: response.username,\n                  isAuthed: true\n                }\n                return currentUser\n              })\n              .catch((error) => {\n                let currentUser = {\n                  isAuthed: false\n                }\n                $state.go('home')\n                return currentUser\n              });\n          }\n        }\n      })\n      .state('detail', {\n        url: '/detail/:descriptionId',\n        controller: 'detailController',\n        templateUrl: './../views/detail.html',\n        resolve: {\n          user: (AuthService, $state) => {\n\n            return AuthService.getUser()\n              .then((response) => {\n                let currentUser = {\n                  userId: response.userid,\n                  userName: response.username,\n                  isAuthed: true\n                }\n                return currentUser\n              })\n              .catch((error) => {\n                let currentUser = {\n                  isAuthed: false\n                }\n                $state.go('home')\n                return currentUser\n              });\n          }\n        }\n      });\n\n    $urlRouterProvider.otherwise('/home');\n  }\n\n})();","/**\n * @license MIT http://jseppi.mit-license.org/license.html\n */\n(function (window, angular) {\n  'use strict';\n\n  var dd = angular.module('ngDropdowns', []);\n\n  dd.run(['$templateCache', function ($templateCache) {\n    $templateCache.put('ngDropdowns/templates/dropdownSelect.html', [\n      '<div ng-class=\"{\\'disabled\\': dropdownDisabled}\" class=\"wrap-dd-select\" tabindex=\"0\">',\n      '<span class=\"selected\">{{dropdownModel[labelField]}}</span>',\n      '<ul class=\"dropdown\">',\n      '<li ng-repeat=\"item in dropdownSelect\"',\n      ' class=\"dropdown-item\"',\n      ' dropdown-select-item=\"item\"',\n      ' dropdown-item-label=\"labelField\">',\n      '</li>',\n      '</ul>',\n      '</div>'\n    ].join(''));\n\n    $templateCache.put('ngDropdowns/templates/dropdownSelectItem.html', [\n      '<li ng-class=\"{divider: (dropdownSelectItem.divider && !dropdownSelectItem[dropdownItemLabel]), \\'divider-label\\': (dropdownSelectItem.divider && dropdownSelectItem[dropdownItemLabel])}\">',\n      '<a href=\"\" class=\"dropdown-item\"',\n      ' ng-if=\"!dropdownSelectItem.divider\"',\n      ' ng-href=\"{{dropdownSelectItem.href}}\"',\n      ' ng-click=\"selectItem()\">',\n      '{{dropdownSelectItem[dropdownItemLabel]}}',\n      '</a>',\n      '<span ng-if=\"dropdownSelectItem.divider\">',\n      '{{dropdownSelectItem[dropdownItemLabel]}}',\n      '</span>',\n      '</li>'\n    ].join(''));\n\n    $templateCache.put('ngDropdowns/templates/dropdownMenu.html', [\n      '<ul class=\"dropdown\">',\n      '<li ng-repeat=\"item in dropdownMenu\"',\n      ' class=\"dropdown-item\"',\n      ' dropdown-item-label=\"labelField\"',\n      ' dropdown-menu-item=\"item\">',\n      '</li>',\n      '</ul>'\n    ].join(''));\n\n    $templateCache.put('ngDropdowns/templates/dropdownMenuItem.html', [\n      '<li ng-class=\"{divider: dropdownMenuItem.divider, \\'divider-label\\': dropdownMenuItem.divider && dropdownMenuItem[dropdownItemLabel]}\">',\n      '<a href=\"\" class=\"dropdown-item\"',\n      ' ng-if=\"!dropdownMenuItem.divider\"',\n      ' ng-href=\"{{dropdownMenuItem.href}}\"',\n      ' ng-click=\"selectItem()\">',\n      '{{dropdownMenuItem[dropdownItemLabel]}}',\n      '</a>',\n      '<span ng-if=\"dropdownMenuItem.divider\">',\n      '{{dropdownMenuItem[dropdownItemLabel]}}',\n      '</span>',\n      '</li>'\n    ].join(''));\n\n    $templateCache.put('ngDropdowns/templates/dropdownMenuWrap.html',\n      '<div class=\"wrap-dd-menu\" ng-class=\"{\\'disabled\\': dropdownDisabled}\"></div>'\n    );\n  }]);\n\n  dd.directive('dropdownSelect', ['DropdownService',\n    function (DropdownService) {\n      return {\n        restrict: 'A',\n        replace: true,\n        scope: {\n          dropdownSelect: '=',\n          dropdownModel: '=',\n          dropdownItemLabel: '@',\n          dropdownOnchange: '&',\n          dropdownDisabled: '='\n        },\n\n        controller: ['$scope', '$element', function ($scope, $element) {\n          $scope.labelField = $scope.dropdownItemLabel || 'text';\n\n          DropdownService.register($element);\n\n          this.select = function (selected) {\n            if (!angular.equals(selected, $scope.dropdownModel)) {\n                $scope.dropdownModel = selected;\n            }\n            $scope.dropdownOnchange({\n              selected: selected\n            });\n            $element[0].blur(); //trigger blur to clear active\n          };\n\n          $element.bind('click', function (event) {\n            event.stopPropagation();\n            if (!$scope.dropdownDisabled) {\n              DropdownService.toggleActive($element);\n            }\n          });\n\n          $scope.$on('$destroy', function () {\n            DropdownService.unregister($element);\n          });\n        }],\n        templateUrl: 'ngDropdowns/templates/dropdownSelect.html'\n      };\n    }\n  ]);\n\n  dd.directive('dropdownSelectItem', [\n    function () {\n      return {\n        require: '^dropdownSelect',\n        replace: true,\n        scope: {\n          dropdownItemLabel: '=',\n          dropdownSelectItem: '='\n        },\n\n        link: function (scope, element, attrs, dropdownSelectCtrl) {\n          scope.selectItem = function () {\n            if (scope.dropdownSelectItem.href) {\n              return;\n            }\n            dropdownSelectCtrl.select(scope.dropdownSelectItem);\n          };\n        },\n\n        templateUrl: 'ngDropdowns/templates/dropdownSelectItem.html'\n      };\n    }\n  ]);\n\n  dd.directive('dropdownMenu', ['$parse', '$compile', 'DropdownService', '$templateCache',\n    function ($parse, $compile, DropdownService, $templateCache) {\n      return {\n        restrict: 'A',\n        replace: false,\n        scope: {\n          dropdownMenu: '=',\n          dropdownModel: '=',\n          dropdownItemLabel: '@',\n          dropdownOnchange: '&',\n          dropdownDisabled: '='\n        },\n\n        controller: ['$scope', '$element', function ($scope, $element) {\n          $scope.labelField = $scope.dropdownItemLabel || 'text';\n\n          var $template = angular.element($templateCache.get('ngDropdowns/templates/dropdownMenu.html'));\n          // Attach this controller to the element's data\n          $template.data('$dropdownMenuController', this);\n\n          var tpl = $compile($template)($scope);\n          var $wrap = $compile(\n            angular.element($templateCache.get('ngDropdowns/templates/dropdownMenuWrap.html'))\n          )($scope);\n\n          $element.replaceWith($wrap);\n          $wrap.append($element);\n          $wrap.append($template);\n\n          DropdownService.register(tpl);\n\n          this.select = function (selected) {\n            if (!angular.equals(selected, $scope.dropdownModel)) {\n                $scope.dropdownModel = selected;\n            }\n            $scope.dropdownOnchange({\n              selected: selected\n            });\n          };\n\n          $element.bind('click', function (event) {\n            event.stopPropagation();\n            if (!$scope.dropdownDisabled) {\n              DropdownService.toggleActive(tpl);\n            }\n          });\n\n          $scope.$on('$destroy', function () {\n            DropdownService.unregister(tpl);\n          });\n        }]\n      };\n    }\n  ]);\n\n  dd.directive('dropdownMenuItem', [\n    function () {\n      return {\n        require: '^dropdownMenu',\n        replace: true,\n        scope: {\n          dropdownMenuItem: '=',\n          dropdownItemLabel: '='\n        },\n\n        link: function (scope, element, attrs, dropdownMenuCtrl) {\n          scope.selectItem = function () {\n            if (scope.dropdownMenuItem.href) {\n              return;\n            }\n            dropdownMenuCtrl.select(scope.dropdownMenuItem);\n          };\n        },\n\n        templateUrl: 'ngDropdowns/templates/dropdownMenuItem.html'\n      };\n    }\n  ]);\n\n  dd.factory('DropdownService', ['$document',\n    function ($document) {\n      var body = $document.find('body'),\n        service = {},\n        _dropdowns = [];\n\n      body.bind('click', function () {\n        angular.forEach(_dropdowns, function (el) {\n          el.removeClass('active');\n        });\n      });\n\n      service.register = function (ddEl) {\n        _dropdowns.push(ddEl);\n      };\n\n      service.unregister = function (ddEl) {\n        var index;\n        index = _dropdowns.indexOf(ddEl);\n        if (index > -1) {\n          _dropdowns.splice(index, 1);\n        }\n      };\n\n      service.toggleActive = function (ddEl) {\n        angular.forEach(_dropdowns, function (el) {\n          if (el !== ddEl) {\n            el.removeClass('active');\n          }\n        });\n\n        ddEl.toggleClass('active');\n      };\n\n      service.clearActive = function () {\n        angular.forEach(_dropdowns, function (el) {\n          el.removeClass('active');\n        });\n      };\n\n      service.isActive = function (ddEl) {\n        return ddEl.hasClass('active');\n      };\n\n      return service;\n    }\n  ]);\n})(window, window.angular);\n","(function() {\n  angular\n    .module('app')\n    .service('AuthService', AuthService)\n\n  function AuthService($http) {\n\n  this.getUser = () => {\n      return $http({\n          method: 'GET',\n          url: '/api/auth/user'\n        })\n        .then((response) => {\n          return response.data[0];\n        })\n        .catch((err) => {\n          throw new Error(err);\n        })\n    };\n\n  }\n\n})();","(function() {\n  angular\n    .module('app')\n    .service('ChartResizeService', ChartResizeService);\n\n  function ChartResizeService() {\n\n    this.calculateElementWidth = (element) => {\n      if (!element.offsetWidth) {\n        return 0;\n      }\n      let style = window.getComputedStyle(element);\n      let width = element.offsetWidth;\n      return width;\n\n      console.log(style)\n    }\n\n  };\n})();","(function() {\n\n  angular\n    .module('app')\n    .service('DetailService', DetailService)\n\n  function DetailService($http) {\n\n    this.getDetail = (descriptionId) => {\n      return $http({\n        method: 'GET',\n        url: `/api/getdetail/${descriptionId}`\n      })\n      .then((response) => {\n        return(response.data[0].detailobject)\n      })\n      .catch((error) => {\n        console.log(error)\n        throw new Error(error)\n      });\n    };\n  };\n})();","(function() {\n\n  angular\n    .module('app')\n    .service('FilterService', FilterService)\n\n  function FilterService() {\n    this.filter = '';\n    this.searchTerm = '';\n\n    this.setFilter = function(filterName) {\n      switch(filterName) {\n        case 'search':\n          if (this.searchTerm && this.searchTerm.length > 0) {\n            this.filter = { resultname: this.searchTerm }\n          } else {\n            this.filter = ''\n          }\n          break;\n        case 'healthAlert':\n          this.filter = { resultbool: true, resultqual : 'negative' }\n          break;\n        case '':\n          this.filter = ''\n        default:\n          this.filter = ''\n      };\n    };\n\n  };\n})();","(function() {\n  angular\n    .module('app')\n    .service('ResultsService', ResultsService)\n\n  function ResultsService($http) {\n\n    this.getResultsByUserId = (userId) => {\n      //console.log(\"service userId\", userId)\n      return $http({\n        method: 'GET',\n        url: `/api/results/${userId}`,\n      })\n      .then((response) => {\n        //console.log('valid response from $http', response)\n        return response.data;\n      })\n      .catch((err) => {\n        console.log(err);\n        throw new Error(err);\n      })\n    };\n\n  }; // END OF SVC FUNC\n})(); // END OF IIFE","(function() {\n  angular\n    .module('app')\n    .service('UploadService', UploadService)\n\n  function UploadService($http, $q) {\n\n    this.sendGenomeTXT = (uploadTXT, genomeName) => {\n      var deferred = $q.defer(); \n      $http({\n            method: 'POST',\n        url: '/api/upload',\n        data: {\n                    file: uploadTXT,\n                    genomeName: genomeName\n                  }\n      }).then((res) => {\n        deferred.resolve(res.data);\n      }).catch((res) => {\n        deferred.reject(res);\n      });\n      return deferred.promise;\n    }\n\n  } //END OF SVC FUNC\n\n})(); //END OF IIFE","(function() {\n\n  angular\n    .module('app')\n    .service('ZygousityService', ZygousityService);\n\n  function ZygousityService() {\n\n    this.handleZygousity = (categoryArray) => {\n      let cleansedArray = categoryArray;\n\n      for (let i = cleansedArray.length - 1; i >= 0; i--) {\n\n        if (cleansedArray[i]) {\n\n          for (let j = i - 1; j >= 0; j--) {\n\n            if (cleansedArray[j].resultname == cleansedArray[i].resultname \n              && cleansedArray[j].resultbool === true) {\n              cleansedArray.splice(i, 1);\n              break;\n            } else if (cleansedArray[j].resultname == cleansedArray[i].resultname && cleansedArray[i].resultbool === true) {\n              cleansedArray.splice(j, 1);\n              break;\n            } else if (cleansedArray[j].resultname == cleansedArray[i].resultname && cleansedArray[i].resultbool === false && cleansedArray[j].resultbool === false) {\n              cleansedArray.splice(j, 1);\n              break;\n            }\n          }\n        }\n      }\n      return cleansedArray;\n    }\n\n  };\n})();\n\n","(function() {\n\n  angular\n    .module('app')\n    .controller('categoryTableController', categoryTableController)\n\n  function categoryTableController(FilterService) {\n\n    this.FilterService = FilterService;\n\n    this.colorResult = (resultObj) => {\n      let color = \"\";\n\n      if (resultObj.resulttype == \"Inherited Conditions\"\n        && resultObj.resultbool == false) {\n        color= \"green\";\n      } else if (resultObj.resultqual == \"positive\" \n        && resultObj.resultbool == true) {\n        color = \"green\";\n      } else if (resultObj.resultqual == \"positive\" \n        && resultObj.resultbool == false) {\n        color = \"yellow\";\n      } else if (resultObj.resultqual == \"negative\" \n        && resultObj.resultbool == false) {\n        color = \"yellow\";\n      } else if (resultObj.resultqual == \"negative\" \n        && resultObj.resultbool == true) {\n        color = \"red\";\n      } else {\n        color = \"black\"\n      }    \n    return color;\n    }\n\n  };\n})();","(function() {\n  angular\n    .module('app')\n    .controller('detailController', detailController);\n\n  function detailController($scope, $stateParams, DetailService) {\n\n    getDetail($stateParams.descriptionId);\n\n    function getDetail(descriptionId) {\n      DetailService.getDetail(descriptionId)\n        .then((response) => {\n          $scope.detail = response\n          console.log('detailController', $scope.detail);\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n    };\n\n  };\n})();","(function() {\n  angular\n    .module('app')\n    .controller('genomeChartController', genomeChartController);\n\n  function genomeChartController(filterService) {\n\n  }\n\n})();","(function() {\n\n  angular\n    .module('app')\n    .controller('HomeController', HomeController)\n\n  function HomeController($scope, user) {\n\n    // Auth\n    $scope.userName = user.userName;\n    $scope.isAuthed = user.isAuthed;\n\n    // Parallax scroll effects\n\n    d3.select(window)\n      .on('scroll', () => {\n\n      let winScroll = window.scrollY;\n\n      d3.select('.helix')\n        .style('transform',`translateY(+${winScroll / 15}%)`);\n\n      d3.select('.helix-marks')\n        .style('transform', `translate(-${winScroll / 7}%, +${winScroll / 15}%)`);\n\n      d3.select('.backbone')\n        .style('transform', `translateY(+${winScroll / 15}%)`);\n\n      d3.select('.cytosine')\n        .style('transform', `translateX(+${winScroll / 12}%)`);\n\n      d3.select('.circles')\n        .style('transform', `translateY(+${winScroll / 12}%)`);\n\n      d3.select('.circles2')\n        .style('transform', `translateY(+${winScroll / 20}%)`);\n\n      d3.select('.helix2')\n        .style('transform', `translateY(+${winScroll / 15}%)`);\n\n      d3.select('.backbone2')\n        .style('transform', `translateY(+${winScroll / 15}%)`);\n\n      d3.select('.circles3')\n        .style('transform', `translateY(+${winScroll / 20}%)`);\n    });\n\n  } // END OF CTRL FUNC\n})(); // END OF IIFE","(function() {\n\n  angular\n    .module('app')\n    .controller('MenuController', MenuController)\n\n  function MenuController($scope, AuthService) {\n\n    // Set initial display variables\n    $scope.loggedIn = ($scope.loggedIn === true) ? true : false;\n\n    function getUser() {\n      AuthService.getUser()\n        .then((res) => {\n            $scope.userName = res.username;\n            $scope.isAuthed = true;\n          })\n          .catch((err) => {\n            $scope.isAuthed = false;\n          });\n    }\n\n    getUser();\n\n    window.onscroll = function() {\n      let sticky = d3.select('.sticky'),\n          scroll = window.scrollY;\n      if (scroll >= 100) {\n        sticky.classed('fixed', true);\n      } else {\n        sticky.classed('fixed', false);\n      }\n    };\n\n  } // END OF CTRL FUNC\n})(); // END OF IIFE","(function() {\n  angular\n    .module('app')\n    .controller('newUserController', newUserController);\n\n  function newUserController($scope) {\n    \n  }\n\n})();","(function() {\n\n  angular\n    .module('app')\n    .controller('StartController', StartController)\n\n  function StartController($scope, $state, UploadService, user) {\n\n    $scope.username = user.userName;\n    $scope.showModal = false;\n    $scope.showProcessing = true;\n    $scope.showError = false;\n\n    $scope.uploadGenomeTXT = (TXT, genomeName) => {\n\n      if (TXT && $scope.genomeName) {\n        $scope.showModal = true;\n        UploadService.sendGenomeTXT(TXT, genomeName)\n          .then((response) => {\n            $state.go('summary');\n          }, (err) => {\n            console.log(err)\n            $scope.showProcessing = false;\n            $scope.showError = true;\n          })\n      }\n    }\n\n    $scope.resetModal = () => {\n      $scope.showModal = false;\n      $scope.showProcessing = true;\n      $scope.showError = false;\n    }\n\n  } // END OF CONTROLLER FUNCTION\n})(); // END OF IIFE","(function() {\n  angular\n    .module('app')\n    .controller('SummaryController', SummaryController)\n\n  function SummaryController($scope, $state, user, ResultsService, ZygousityService, FilterService, $filter) {\n    $scope.FilterService = FilterService;\n\n    $scope.userName = user.userName;\n    $scope.userId = user.userId;\n    $scope.ddSelectSelected = {\n      display: 'No Genomes Uploaded'\n    };\n\n    $scope.$watch('ddSelectSelected', (ddSelectSelected) => {\n      console.log(\"SELECTED GENOME\", ddSelectSelected)\n    });\n\n    let getGenomeResults = (userId) => {\n      return ResultsService.getResultsByUserId(userId)\n        .then((response) => {\n          return response\n        })\n        .catch((err) => console.log(err))\n    };\n\n    getGenomeResults($scope.userId)\n      .then((response) => {\n        let cleansedResponse = response.map((elem, index, array) => {\n          let cleansedGenome = elem;\n          cleansedGenome.genomeresults.map((elem, index, array) => {\n            return ZygousityService.handleZygousity(elem.resultsArray);\n          })\n          return cleansedGenome;\n        })\n        return cleansedResponse;\n      })\n      .then((response) => {\n        $scope.userGenomeArray = transformData(response);\n        $scope.ddSelectOptions = $scope.userGenomeArray;\n        $scope.ddSelectSelected = $scope.userGenomeArray[0];\n      })\n      .catch((err) => {\n        console.log(err)\n      });\n\n    function transformData(response) {\n      if (response) {\n        return response.map(elem => {\n          elem.display = 'GENOME:\\xa0\\xa0\\xa0' + elem.genomename + \"\\xa0\\xa0\\xa0\" + $filter('date')(new Date(elem.genomedate), 'short');\n          return elem;\n\n        })\n      }\n    };\n\n    $scope.healthAlertSet = false\n    $scope.triggerFilter = (filterName) => {\n\n      if (filterName !== 'search') {\n        $scope.healthAlertSet = ($scope.healthAlertSet) ? false : true;\n      };\n\n      FilterService.setFilter(filterName);\n    };\n\n  }; // END OF CTRL FUNC\n})(); // END OF IIFE","(function() {\n  angular\n    .module('app')\n    .directive('genomeChart', genomeChart);\n\n  function genomeChart(ChartResizeService) {\n\n    return {\n      restrict: 'E',\n      scope: {\n        data: '='\n      },\n      link: function(scope, elem, attrs) {\n\n          let chartElement = elem[0];\n\n          let width = ChartResizeService.calculateElementWidth(chartElement)\n          window.onresize = (event) => {\n            width = ChartResizeService.calculateElementWidth(chartElement)\n            updateChart()\n          };\n\n          scope.$watch(\"data\", (n, o) => {\n            if (n !== o) {\n              updateChart();\n            }\n          });\n\n          let margins = {\n            top: 20,\n            left: 5,\n            right: 5,\n            bottom: 5\n          };\n\n          let height = 40 - margins.top - margins.bottom;\n\n          let dataset = [\n            [{\n              id: 1,\n              length: 249250621\n            }],\n            [{\n              id: 2,\n              length: 243199373\n            }],\n            [{\n              id: 3,\n              length: 198022430\n            }],\n            [{\n              id: 4,\n              length: 191154276\n            }],\n            [{\n              id: 5,\n              length: 180915260\n            }],\n            [{\n              id: 6,\n              length: 171115067\n            }],\n            [{\n              id: 7,\n              length: 159138663\n            }],\n            [{\n              id: 8,\n              length: 146364022\n            }],\n            [{\n              id: 9,\n              length: 141213431\n            }],\n            [{\n              id: 10,\n              length: 135534747\n            }],\n            [{\n              id: 11,\n              length: 135006516\n            }],\n            [{\n              id: 12,\n              length: 133851895\n            }],\n            [{\n              id: 13,\n              length: 115169878\n            }],\n            [{\n              id: 14,\n              length: 107349540\n            }],\n            [{\n              id: 15,\n              length: 102531392\n            }],\n            [{\n              id: 16,\n              length: 90354753\n            }],\n            [{\n              id: 17,\n              length: 81195210\n            }],\n            [{\n              id: 18,\n              length: 78077248\n            }],\n            [{\n              id: 19,\n              length: 59128983\n            }],\n            [{\n              id: 20,\n              length: 63025520\n            }],\n            [{\n              id: 21,\n              length: 48129895\n            }],\n            [{\n              id: 22,\n              length: 51304566\n            }],\n            [{\n              id: 23,\n              length: 155270560\n            }]\n          ]\n\n          // DATA FORMATTING (SPECIFIC TO D3 V3)\n          // GENOME/CHROMOSOMES\n\n          let datasetMod1 = dataset.map(function(elem) {\n            return elem.map(function(e, i) {\n              // Structure it so that numeric\n              // axis (the stacked amount) is y\n              return {\n                y: e.length,\n                x: e.id\n              };\n            });\n          });\n\n          let stack = d3.layout.stack();\n          stack(datasetMod1);\n\n          let datasetMod2 = datasetMod1.map(function(group) {\n            return group.map(function(d) {\n              // Invert the x and y values, and y0 becomes x0\n              return {\n                x: d.y,\n                y: d.x,\n                x0: d.y0\n              };\n            });\n          });\n\n          var tip = d3.tip()\n            .attr('class', 'd3-tip')\n            .html(function(d) {\n              return `<span class='tooltip-rsid'>RSID: ${d.rsid}</span><br /><span class='tooltip-chromosome'>Chromosome:  ${d.chromosome}</span><br /><span class='tooltip-position'>Positon:  ${d.position}</span>`;\n            })\n\n          //DRAW CHART\n\n          function updateChart() {\n\n            let snpVals = getSnpVals(scope.data);\n\n            d3.select(elem[0]).selectAll('svg').remove()\n\n            let svg = d3.select(elem[0])\n              .append('svg')\n              .attr('width', width + margins.left + margins.right)\n              .attr('height', height + 100 + margins.bottom + margins.top)\n              .style('overflow', 'overlay')\n\n            let xMax = d3.max(datasetMod2, (group) => {\n              return d3.max(group, (d) => {\n                return d.x + d.x0;\n              });\n            });\n\n            let xScale = d3.scale.linear()\n              .domain([0, xMax])\n              .range([0, width])\n\n            let colors = d3.scale.linear()\n              .domain([1, width / 20])\n              .interpolate(d3.interpolateHcl)\n              .range([d3.rgb(\"#104f99\"), d3.rgb('#f75050')]);\n\n            let series = svg.append('g')\n              .attr('transform', `translate(${margins.left},${margins.top})`)\n              .selectAll('g')\n              .data(datasetMod2)\n\n            svg.select('g').append(\"text\")\n              .attr(\"transform\", `translate(${-1},${-8})`)\n              .text(\"Chromosomes\")\n              .classed('chrom-title', true)\n\n            series.enter().append('g')\n              .attr('fill', (d, i) => {\n                return colors(i);\n              })\n              .attr('fill-opacity', 0.6)\n              .style('stroke', (d, i) => {\n                return colors(i);\n              })\n              .style('stroke-width', 1);\n\n            let rects = series.selectAll('rect')\n              .data((d) => {\n                return d;\n              });\n\n            rects.enter().append('rect')\n              .attr('x', (d) => {\n                return xScale(d.x0);\n              })\n              .attr('height', 35)\n              .attr('width', (d) => {\n                return xScale(d.x) - 3;\n              });\n\n            rects.enter().append(\"text\")\n              .attr(\"class\", \"chrom-text\")\n              .attr(\"x\", (d) => {\n                return xScale(d.x0) + 3;\n              })\n              .attr(\"y\", 13)\n              .text((d) => {\n                return textHandler(d);\n              });\n\n            /////////\n\n            let series2 = svg.append('g')\n              .attr('transform', `translate(${margins.left},${margins.top - 4})`)\n              .selectAll('g')\n              .data([1]);\n\n            series2.enter().append('g')\n\n            let rects2 = series2.selectAll('rect')\n              .data(snpVals);\n\n            rects2.enter().append('rect')\n              .attr('class', 'snp-line')\n              .attr('x', (d) => {\n                return xScale(d.totalPosition)\n              })\n              .attr('height', 44)\n              .attr('width', 4)\n              .attr('fill', 'red')\n              .attr('stroke', '#004a71')\n              .attr('stroke-width', 1)\n              .attr('opacity', 0.8)\n\n            rects2.enter().append(\"text\")\n              .attr(\"class\", \"map-text\")\n              .attr(\"x\", (d) => {\n                return xScale(d.totalPosition) + 5\n              })\n              .attr(\"y\", 53)\n              .attr(\"dy\", \".35em\")\n              .text((d) => {\n                return d.rsid;\n              });\n\n            d3.selectAll('.snp-line')\n              .call(tip)\n\n            d3.selectAll('.snp-line')\n              .on('mouseover', tip.show)\n              .on('mouseout', tip.hide)\n\n            let xAxis = d3.svg.axis()\n              .scale(xScale)\n              .orient('bottom')\n              .ticks(3, 's')\n\n            svg.append('g')\n              .attr('transform', `translate(${margins.left},${margins.top + 70})`)\n              .call(xAxis)\n              .classed('axis', true)\n              .append(\"text\")\n              .attr(\"transform\", `translate(${-3},${-4})`)\n              .text(\"Position [bp]\");\n\n            function textHandler(d) {\n              return (xScale(d.x) < 18) ? \"\" : d.y\n            }\n\n            overlap();\n\n          }; //END OF UPDATE FUNCTION\n\n          //UTILTIY FUNCTIONS\n\n          function getSnpVals(snpArray) {\n            let snpVals = snpArray.map((elem) => {\n              let snp = elem;\n              snp.totalPosition = calculateSnpPosition(elem);\n              return snp;\n            });\n            return snpVals;\n          };\n\n          function calculateSnpPosition(snpObj) {\n            let position = 0;\n            for (let i = 0; i <= snpObj.chromosome - 1; i++) {\n              position += +dataset[i][0].length;\n            }\n            position += +snpObj.position;\n            return position;\n          };\n\n          function overlap() {\n            var move = 1;\n            while (move > 0) {\n              move = 0;\n              d3.selectAll('.map-text')\n                .each(function() {\n                  var that = this,\n                    a = this.getBoundingClientRect();\n                  d3.selectAll('.map-text')\n                    .each(function() {\n                      if (this != that) {\n                        var b = this.getBoundingClientRect();\n                        if ((Math.abs(a.left - b.left) * 2 < (a.width + b.width)) &&\n                          (Math.abs(a.top - b.top) * 2 < (a.height + b.height))) {\n                          // overlap, move labels\n                          var dx = (Math.max(0, a.right - b.left) +\n                              Math.min(0, a.left - b.right)) * 0.01,\n                            dy = (Math.max(0, a.bottom - b.top) +\n                              Math.min(0, a.top - b.bottom)) * 0.02,\n                            tt = d3.transform(d3.select(this).attr(\"transform\")),\n                            to = d3.transform(d3.select(that).attr(\"transform\"));\n                          move += Math.abs(dx) + Math.abs(dy);\n\n                          to.translate = [to.translate[0] + dx, to.translate[1] + dy];\n                          tt.translate = [tt.translate[0] - dx, tt.translate[1] - dy];\n                          d3.select(this).attr(\"transform\", \"translate(\" + tt.translate + \")\");\n                          d3.select(that).attr(\"transform\", \"translate(\" + to.translate + \")\");\n                          a = this.getBoundingClientRect();\n                        }\n                      }\n                    })\n                })\n            }\n          }\n\n        } //end of link\n    };\n  };\n})();","(function() {\n  angular\n    .module('app')\n    .directive('genomeMiniChart', genomeMiniChart);\n\n  function genomeMiniChart(DetailService, ChartResizeService) {\n\n    return {\n      restrict: 'E',\n      scope: {\n        data: '='\n      },\n      link: function(scope, elem, attrs) {\n\n          let data = scope.data;\n\n          DetailService.getDetail(data)\n            .then((res) => {\n              data = res.SNPs\n            })\n            .catch((err) => {\n              console.log(err)\n            })\n\n          let chartElement = elem[0];\n\n          let width = ChartResizeService.calculateElementWidth(chartElement)\n          window.onresize = (event) => {\n            width = ChartResizeService.calculateElementWidth(chartElement)\n            updateChart()\n          };\n\n          scope.$watch(\"data\", (n, o) => {\n            if (n !== o) {\n              updateChart();\n            }\n          });\n\n          let margins = {\n            top: 20,\n            left: 5,\n            right: 5,\n            bottom: 5\n          };\n\n          let height = 40 - margins.top - margins.bottom;\n\n          let dataset = [\n            [{\n              id: 1,\n              length: 249250621\n            }],\n            [{\n              id: 2,\n              length: 243199373\n            }],\n            [{\n              id: 3,\n              length: 198022430\n            }],\n            [{\n              id: 4,\n              length: 191154276\n            }],\n            [{\n              id: 5,\n              length: 180915260\n            }],\n            [{\n              id: 6,\n              length: 171115067\n            }],\n            [{\n              id: 7,\n              length: 159138663\n            }],\n            [{\n              id: 8,\n              length: 146364022\n            }],\n            [{\n              id: 9,\n              length: 141213431\n            }],\n            [{\n              id: 10,\n              length: 135534747\n            }],\n            [{\n              id: 11,\n              length: 135006516\n            }],\n            [{\n              id: 12,\n              length: 133851895\n            }],\n            [{\n              id: 13,\n              length: 115169878\n            }],\n            [{\n              id: 14,\n              length: 107349540\n            }],\n            [{\n              id: 15,\n              length: 102531392\n            }],\n            [{\n              id: 16,\n              length: 90354753\n            }],\n            [{\n              id: 17,\n              length: 81195210\n            }],\n            [{\n              id: 18,\n              length: 78077248\n            }],\n            [{\n              id: 19,\n              length: 59128983\n            }],\n            [{\n              id: 20,\n              length: 63025520\n            }],\n            [{\n              id: 21,\n              length: 48129895\n            }],\n            [{\n              id: 22,\n              length: 51304566\n            }],\n            [{\n              id: 23,\n              length: 155270560\n            }]\n          ]\n\n          // DATA FORMATTING (SPECIFIC TO D3 V3)\n          // GENOME/CHROMOSOMES\n\n          let datasetMod1 = dataset.map(function(elem) {\n            return elem.map(function(e, i) {\n              // Structure it so that numeric\n              // axis (the stacked amount) is y\n              return {\n                y: e.length,\n                x: e.id\n              };\n            });\n          });\n\n          let stack = d3.layout.stack();\n          stack(datasetMod1);\n\n          let datasetMod2 = datasetMod1.map(function(group) {\n            return group.map(function(d) {\n              // Invert the x and y values, and y0 becomes x0\n              return {\n                x: d.y,\n                y: d.x,\n                x0: d.y0\n              };\n            });\n          });\n\n          var tip = d3.tip()\n            .attr('class', 'd3-tip')\n            .html(function(d) {\n              return `<span class='tooltip-rsid'>RSID: ${d.rsid}</span><br /><span class='tooltip-chromosome'>Chromosome:  ${d.chromosome}</span><br /><span class='tooltip-position'>Positon:  ${d.position}</span>`;\n            })\n\n          //DRAW CHART\n\n          function updateChart() {\n\n            let snpVals = getSnpVals(scope.data);\n\n            d3.select(elem[0]).selectAll('svg').remove()\n\n            let svg = d3.select(elem[0])\n              .append('svg')\n              .attr('width', width + margins.left + margins.right)\n              .attr('height', height + 100 + margins.bottom + margins.top)\n\n            let xMax = d3.max(datasetMod2, (group) => {\n              return d3.max(group, (d) => {\n                return d.x + d.x0;\n              });\n            });\n\n            \n\n            let series = svg.append('g')\n              .attr('transform', `translate(${margins.left},${margins.top})`)\n              .selectAll('g')\n              .data(datasetMod2)\n\n            svg.select('g').append(\"text\")\n              .attr(\"transform\", `translate(${-1},${-8})`)\n              .text(\"Chromosomes\")\n              .classed('chrom-title', true)\n\n            series.enter().append('g')\n              .attr('fill', (d, i) => {\n                return colors(i);\n              })\n              .attr('fill-opacity', 0.6)\n              .style('stroke', (d, i) => {\n                return colors(i);\n              })\n              .style('stroke-width', 1);\n\n            let rects = series.selectAll('rect')\n              .data((d) => {\n                return d;\n              });\n\n            rects.enter().append('rect')\n              .attr('x', (d) => {\n                return xScale(d.x0);\n              })\n              .attr('height', 35)\n              .attr('width', (d) => {\n                return xScale(d.x) - 3;\n              });\n\n            rects.enter().append(\"text\")\n              .attr(\"class\", \"chrom-text\")\n              .attr(\"x\", (d) => {\n                return xScale(d.x0) + 3;\n              })\n              .attr(\"y\", 13)\n              .text((d) => {\n                return textHandler(d);\n              });\n\n            /////////\n\n            let series2 = svg.append('g')\n              .attr('transform', `translate(${margins.left},${margins.top - 4})`)\n              .selectAll('g')\n              .data([1]);\n\n            series2.enter().append('g')\n\n            let rects2 = series2.selectAll('rect')\n              .data(snpVals);\n\n            rects2.enter().append('rect')\n              .attr('class', 'snp-line')\n              .attr('x', (d) => {\n                return xScale(d.totalPosition)\n              })\n              .attr('height', 44)\n              .attr('width', 4)\n              .attr('fill', 'red')\n              .attr('stroke', '#004a71')\n              .attr('stroke-width', 1)\n              .attr('opacity', 0.8)\n\n            rects2.enter().append(\"text\")\n              .attr(\"class\", \"map-text\")\n              .attr(\"x\", (d) => {\n                return xScale(d.totalPosition) + 5\n              })\n              .attr(\"y\", 53)\n              .attr(\"dy\", \".35em\")\n              .text((d) => {\n                return d.rsid;\n              });\n\n            d3.selectAll('.snp-line')\n              .call(tip)\n\n            d3.selectAll('.snp-line')\n              .on('mouseover', tip.show)\n              .on('mouseout', tip.hide)\n\n            let xAxis = d3.svg.axis()\n              .scale(d3.scale.identity()\n                .domain([0, xMax])\n                .range([0, width]))\n              .orient('bottom')\n              .ticks(4, 'e')\n\n            svg.append('g')\n              .attr('transform', `translate(${margins.left},${margins.top + 70})`)\n              .call(xAxis)\n              .classed('axis', true)\n              .append(\"text\")\n              .attr(\"transform\", `translate(${-3},${-4})`)\n              .text(\"Position\");\n\n            function textHandler(d) {\n              return (xScale(d.x) < 18) ? \"\" : d.y\n            }\n\n\n          }; //END OF UPDATE FUNCTION\n\n          //UTILTIY FUNCTIONS\n\n          function getSnpVals(snpArray) {\n            let snpVals = snpArray.map((elem) => {\n              let snp = elem;\n              snp.totalPosition = calculateSnpPosition(elem);\n              return snp;\n            });\n            return snpVals;\n          };\n\n          function calculateSnpPosition(snpObj) {\n            let position = 0;\n            for (let i = 0; i <= snpObj.chromosome - 1; i++) {\n              position += +dataset[i][0].length;\n            }\n            position += +snpObj.position;\n            return position;\n          };\n\n        } //end of link\n    };\n  };\n})();","(function() {\n\n  angular\n    .module('app')\n    .directive('summaryCategoryTable', summaryCategoryTable)\n\n  function summaryCategoryTable() {\n\n    return {\n      restrict: 'E',\n      templateUrl: 'js/directives/templates/summary-category-table.html',\n      scope: {\n        data: '='\n      },\n      bindToController: true,\n      controller: 'categoryTableController',\n      controllerAs: 'ctrl'\n    }\n\n  };\n})();","(function() {\n  'use strict';\n\n  angular\n    .module('app')\n    .directive('onReadFile', onReadFile);\n\n  function onReadFile($parse) {\n\n    return {\n      restrict: 'A',\n      scope: false,\n      link: function(scope, element, attrs) {\n\n        var fn = $parse(attrs.onReadFile);\n\n        element.on('change', function(onChangeEvent) {\n          var reader = new FileReader();\n          reader.onload = function(onLoadEvent) {\n            scope.$apply(function() {\n              fn(scope, {\n                $fileContent: onLoadEvent.target.result\n              });\n            });\n          };\n\n          reader.readAsText((onChangeEvent.srcElement || onChangeEvent.target).files[0]);\n        });\n      }\n\n    };\n  };\n})();"]}